<ActionBar class="action-bar">
    <GridLayout columns="*, auto">
        <Label class="action-bar-title" column="0" text="Продукты"></Label>
        <Button (tap)="onLogout()" *ngIf="currentUser" column="1" text="Выйти"></Button>
    </GridLayout>
</ActionBar>

<GridLayout rows="auto, *" class="page page-content">
    <GridLayout row="0" columns="*, auto">
        <TextField column="0" [text]="filter" (textChange)="onFilterChange($event)" hint="Найти"
                   class="input input-border text-input"></TextField>
        <Button column="1" text="Добавить" [nsRouterLink]="['new']" class="add-btn"></Button>
    </GridLayout>

    <RadListView row="1" swipeActions="true"
                 [items]="groceries"
                 [filteringFunction]="filtering"
                 (itemSwipeProgressStarted)="onSwipeCellStarted($event)">
        <ng-template tkListItemTemplate let-item="item">
            <StackLayout [nsRouterLink]="[item?.id]" class="list-item list" orientation="vertical">
                <GridLayout columns="*,auto">
                    <Label col="0" class="list-item__label-name" textwrap="true" [text]="item.name"></Label>
                    <Label col="1" class="list-item__label-amount" [text]="item.amount + ' шт'"></Label>
                </GridLayout>
                <Label class="list-item__label-date" [text]="getUpdatedDateView(item)"></Label>
            </StackLayout>
        </ng-template>

        <GridLayout *tkListItemSwipeTemplate columns="*, auto">
            <StackLayout id="delete-view" col="1" class="delete-view" (tap)="onRightSwipeClick($event)">
                <Image src="font://&#xf1f8;" class="fa"></Image>
            </StackLayout>
        </GridLayout>
    </RadListView>
</GridLayout>
